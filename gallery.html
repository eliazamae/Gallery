<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Philippine Gallery</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header class="header-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
          <h1 class="text-center">
            Philippine Gallery
          </h1>
          <p class="lead text-muted text-center mb-0">
            Discover the breathtaking beauty of the Philippines through these stunning landscapes and cultural landmarks.
          </p>
        </div>
      </div>
    </div>
  </header>

  <div class="container-fluid px-0">
    <div class="gallery-grid" id="gallery">
      <!-- Gallery items will be inserted here by JavaScript -->
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const gallery = document.getElementById('gallery');
      
      // Show loading indicator
      gallery.innerHTML = '<div class="col-12 text-center py-5"><div class="spinner-border text-primary"></div></div>';
      
      try {
        // Load all images at once
        const res = await fetch('data.json');
        const data = await res.json();
        
        // Display all images
        gallery.innerHTML = data.images.map(item => `
          <div class="gallery-card">
            <div class="card">
              <img src="${item.url}" class="gallery-img" alt="${item.title}" loading="lazy">
              <div class="card-body">
                <h5>${item.title}</h5>
                <p class="location">${item.location}</p>
                ${item.description ? `<p class="description">${item.description}</p>` : ''}
                ${item.photographer ? `<p class="photographer">Photo by: ${item.photographer}</p>` : ''}
                ${item.reference ? `<a href="${item.reference}" class="reference-link" target="_blank" rel="noopener noreferrer">View Source</a>` : ''}
              </div>
            </div>
          </div>
        `).join('');
        
      } catch (e) {
        gallery.innerHTML = '<div class="col-12 text-center py-5">Error loading images. Please try again later.</div>';
        console.error('Error loading images:', e);
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</body>

</html>